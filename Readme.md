# Interactive Image Previewer

This project is a web-based image gallery viewer with advanced features, designed to showcase images (like Pokémon TCG cards) organized in folders. It includes filtering, sorting by folder, dynamic sizing, interactive hover effects, background music, and a particle background animation.

## Features

* **Folder-Based Navigation:** Browse images organized in subfolders within a main `img` directory using tabs.
* **Recursive Image Loading:** An "All" tab displays all images found recursively within the `img` directory.
* **Type & Rarity Filtering:** Filter displayed images based on card type (e.g., Pokemon, Trainer) and rarity (e.g., Common, Ultra Rare) parsed from filenames.
* **Configurable Filters:** Easily update card types, rarities, folder display order, and tab colors by editing `filter_config.json`.
* **Interactive Holo Effect:** Thumbnails and the lightbox image feature a holographic effect that reacts to mouse/touch movement.
* **Click Effect:** Thumbnails have a visual effect upon clicking before the lightbox opens.
* **Dynamic Sizing:** Control the size of thumbnails and the lightbox popup using sliders (S/M/L settings). Settings are saved locally.
* **Load More Functionality:** Images are loaded in batches (default 21) to improve initial load time, with a "Load More" button.
* **Audio Player:** Includes background music with play/pause, next track, and volume controls. Requires user interaction to enable first.
* **Three.js Particle Background:** An animated particle background adds visual flair.
* **Responsive Design:** Aims for usability across different screen sizes.
* **Lazy Loading:** Thumbnails use lazy loading for better performance.

## Project Structure

Make sure your project directory includes the following files and folders:

your-project-folder/├── index.html                 # Main application file├── image_data.js              # (Generated by Node script) Contains image structure and config├── filter_config.json         # Configuration for filters, folder order, and colors├── generate_image_structure.js # Node.js script to build image_data.js├── background.js              # Three.js background animation script├── audio.js                   # Audio player logic script├── assets/│   └── css/│       └── theme.css          # Custom theme styles (glow, etc.)├── resources/                 # Folder for UI assets│   ├── tcg-pocket-logo.png    # Logo displayed at the top│   ├── Common-icon.png        # Rarity icons (e.g., Rare-icon.png, UltraRare-icon.png)│   └── ...                    # Add all necessary rarity icons here├── audio/                     # Folder for music files│   └── pocket.mp3             # Default background music file│   └── ...                    # Other music files (add paths to audio.js playlist)└── img/                       # Main image directory├── Folder1/               # Example subfolder (Set Name)│   └── cPK_...R.png     # Example image file│   └── ...├── Folder2/│   └── cTR_...U.png│   └── ...└── image_in_root.png      # Images directly in img/ are shown in "All"
## Setup

1.  **Prerequisites:** You need [Node.js](https://nodejs.org/) installed to run the build script.
2.  **Create Folders:** Ensure the `img`, `resources`, `audio`, and `assets/css` folders exist in your project root.
3.  **Populate Folders:**
    * Place your images and subfolders (representing sets/categories) inside the `img` folder. Ensure filenames follow the naming convention for type/rarity parsing (e.g., `cPK_..._RR_.png`, `cTR_..._C_.png`).
    * Place `tcg-pocket-logo.png` and all required rarity icons (e.g., `Common-icon.png`, `UltraRare-icon.png`) inside the `resources` folder.
    * Place `pocket.mp3` and any other desired music files inside the `audio` folder (and update the `playlist` array in `audio.js` if adding more).
    * Place your `theme.css` file inside `assets/css/`.
4.  **Configure Filters:** Edit `filter_config.json` to:
    * Define the rarity codes (`rarityMap`) and their display names.
    * Set the desired display order for rarities (`rarityOrder`).
    * Define type prefixes (`typeMap`) and their display names.
    * Set the desired display order for types (`typeOrder`).
    * Define the display order for folder tabs (`folderOrder`). Folder names must match exactly.
    * Define the active colors for each folder tab (`folderColors`). Include `"all"` and `"default"` entries.
5.  **Build Image Data:** Open your terminal/command prompt in the project's root directory and run the build script:
    ```bash
    npm run build:images
    ```
    (Or `node generate_image_structure.js` if you don't have npm scripts set up). This will scan the `img` folder and generate/update the `image_data.js` file. **You must re-run this script every time you add, remove, or rename images/folders in the `img` directory.**

## Usage

1.  **Open:** Open the `index.html` file in your web browser.
2.  **Audio:** Click anywhere on the page or the prompt to enable background audio. Use the controls at the bottom right to manage playback.
3.  **Navigation:**
    * Use the **Folder Tabs** at the top right to view images from specific sets or all images combined.
    * Use the **Filter Dropdowns** (Type, Rarity) to further refine the displayed images within the selected tab.
4.  **Gallery:**
    * Scroll through the thumbnails.
    * If there are many images, click the **"Load More"** button to view the next batch.
    * Hover over thumbnails to see the holo effect.
    * Click a thumbnail to view the larger image in the lightbox. A click effect will play briefly.
5.  **Lightbox:**
    * View the full-size image.
    * Hover over the image area (avoiding controls) to see the holo effect.
    * Use the left/right arrow buttons or keyboard arrow keys to navigate between images in the currently filtered set.
    * Click the 'X' button or outside the image content to close. The page will return to your previous scroll position.
6.  **Sizing:** Use the sliders in the header to adjust the size of the thumbnails (affecting grid layout) and the lightbox popup. Your preferences are saved locally.

## Customization

* **Theme:** Modify `assets/css/theme.css` for further visual customization.
* **Filters/Colors:** Edit `filter_config.json` to change filter options, tab order, and tab colors. Re-run the build script after changes.
* **Audio:** Add/remove music file paths in the `playlist` array within `audio.js`.
* **Holo/Effects:** Adjust CSS variables and styles related to `.thumbnail`, `.lightbox-image-container`, and their pseudo-elements (`:before`, `:after`) in `index.html`.
* **Load Amount:** Change the `IMAGES_PER_LOAD` constant in the `index.html` script to load more/fewer images per batch.
